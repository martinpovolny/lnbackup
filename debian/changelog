lnbackup-ng (2.0.0) 2010Q1; urgency=low

  * refactor structure of sources
  * some code refactoring
  * fix: create lock file after running pre-command

 -- Martin Povolny <martin.povolny@solnet.cz>  Thu, 20 Oct 2011 13:38:30 +0200

lnbackup-ng (1.28.10) 2010Q1; urgency=low

  * add mysql and postgresql backup script

 -- Pavel Muller <Pavel.Muller@solnet.cz>  Tue, 22 Feb 2011 11:52:43 +0100

lnbackup-ng (1.28.9) 2010Q1; urgency=low

  * zmenen debconf default z hdc na sdc

 -- Martin Hradil <Martin.Hradil@solnet.cz>  Fri, 20 Aug 2010 13:56:41 +0000

lnbackup-ng (1.28.8) 2007Q1; urgency=low

  * add /etc/updatedb.findutils.cron.local
  * lenny build

 -- Petr Jurasek <Petr.Jurasek@solnet.cz>  Wed, 27 Jan 2010 16:38:42 +0100

lnbackup-ng (1.28.7) 2007Q1; urgency=low

  * new feature in nagios_check_all - shows only bad backups when overall
    result is not 0

 -- Martin Prochazka <Martin.Prochazka@solnet.cz>  Wed,  6 May 2009 14:14:03 +0200

lnbackup-ng (1.28.6) 2007Q1; urgency=low

  * added option --dump-log FILE 
        dumps given binary log to STDOUT

 -- Martin Povolny <martin.povolny@solnet.cz>  Wed, 22 Apr 2009 10:58:45 +0200

lnbackup-ng (1.28.5) 2007Q1; urgency=low

  *  change default localhost config from:
      { :dir => '/home', :fs_type => :local },
     to:
      { :dir => '/home', :fs_type => :local, :exclude => ['samba/local/domain-users'] },

 -- Martin Povolny <martin.povolny@solnet.cz>  Thu, 05 Mar 2009 14:55:55 +0100

lnbackup-ng (1.28.4) 2007Q1; urgency=low

  * add --delay-denom <INT> to allow finer grade setting of delays between I/O
    operations

 -- Martin Povolny <martin.povolny@solnet.cz>  Tue, 21 Oct 2008 09:33:47 +0200

lnbackup-ng (1.28.3) 2007Q1; urgency=low

  * fix no_mirror_warn

 -- Martin Povolny <martin.povolny@solnet.cz>  Tue, 30 Sep 2008 10:47:15 +0200

lnbackup-ng (1.28.2) 2007Q1; urgency=low

  * added no_mirror_warn -- disable warning wher mirror is not bootable
    (handy until we generate better fstabs)

 -- Martin Povolny <martin.povolny@solnet.cz>  Mon, 29 Sep 2008 14:05:18 +0200

lnbackup-ng (1.28.1) 2007Q1; urgency=low

  * run post_command even if there is no pre_command defined

 -- Martin Povolny <martin.povolny@solnet.cz>  Wed, 27 Aug 2008 16:51:09 +0200

lnbackup-ng (1.28) 2007Q1; urgency=low

  * parametrize nagios check per backup (see manpage)
  * add backup disk's UUID and label to binary status file

 -- Martin Povolny <martin.povolny@solnet.cz>  Tue, 26 Aug 2008 17:03:51 +0200

lnbackup-ng (1.27.3) 2007Q1; urgency=low

  * fix type conversion in search-iter

 -- Martin Povolny <martin.povolny@solnet.cz>  Sun, 27 Apr 2008 11:14:10 +0200

lnbackup-ng (1.27.2) 2007Q1; urgency=low

  * really remove the confs

 -- Martin Povolny <martin.povolny@solnet.cz>  Tue, 22 Apr 2008 17:28:50 +0200

lnbackup-ng (1.27.1) 2007Q1; urgency=low

  * removed unwanted config files

 -- Martin Povolny <martin.povolny@solnet.cz>  Tue, 22 Apr 2008 17:24:17 +0200

lnbackup-ng (1.27) 2007Q1; urgency=low

  * added --search-iter=NUMBER  
        Number of backups to search for files not contained in last backup (0
        for unlimited, default 5).

 -- Martin Povolny <martin.povolny@solnet.cz>  Tue, 22 Apr 2008 16:31:03 +0200

lnbackup-ng (1.26.5) 2007Q1; urgency=low

  * the same but this time I changed the right file

 -- Martin Hradil <Martin.Hradil@solnet.cz>  Wed, 14 Nov 2007 12:33:24 +0000

lnbackup-ng (1.26.4) 2007Q1; urgency=low

  * fix noatime bug (Unrecognized mount option " noatime" because of cmd << "-o noatime")

 -- Martin Hradil <Martin.Hradil@solnet.cz>  Wed, 14 Nov 2007 12:22:35 +0000

lnbackup-ng (1.26.3) 2007Q1; urgency=low

  * fix error handling of failed 'cp -a' in mirror

 -- Martin Povolny <martin.povolny@solnet.cz>  Wed, 31 Oct 2007 10:11:21 +0100

lnbackup-ng (1.26.2) 2007Q1; urgency=low

  * noatime for mounts

 -- Martin Povolny <martin.povolny@solnet.cz>  Thu,  9 Aug 2007 13:20:40 +0200

lnbackup-ng (1.26.1) 2007Q1; urgency=low

  * implicit free blocks and inodes set to 2%

 -- Martin Povolny <martin.povolny@solnet.cz>  Wed, 23 May 2007 17:11:39 +0200

lnbackup-ng (1.26) 2007Q1; urgency=low

  * added diversion of /etc/updatedb.conf

 -- Martin Povolny <martin.povolny@solnet.cz>  Mon, 14 May 2007 11:05:25 +0200

lnbackup-ng (1.25.6~2006Q3.11) 2006Q3; urgency=low

  * :skip_lilo => true now by default for 'localhost'

 -- Martin Povolny <martin.povolny@solnet.cz>  Wed,  9 May 2007 14:03:06 +0200

lnbackup-ng (1.25.6~2006Q3.10) 2006Q3; urgency=low

  * added some comments
  * minor changes to status messages and nagios status text

 -- Martin Povolny <martin.povolny@solnet.cz>  Wed,  9 May 2007 13:56:03 +0200

lnbackup-ng (1.25.6~2006Q3.9) 2006Q3; urgency=low

  * URGENT FIX -- error introduced in 1.25.6~2006Q3.6: File.readable?(x) gives different
    results to File.stat(x).readable?

    Some files where skipped from backup! 
    Do not use 1.25.6~2006Q3.6 --> 1.25.6~2006Q3.8 !

 -- Martin Povolny <martin.povolny@solnet.cz>  Fri, 23 Mar 2007 15:33:32 +0100

lnbackup-ng (1.25.6~2006Q3.8) 2006Q3; urgency=low

  * add more info on mirroring to man page

 -- Martin Povolny <martin.povolny@solnet.cz>  Tue, 23 Jan 2007 11:38:46 +0100

lnbackup-ng (1.25.6~2006Q3.7) 2006Q3; urgency=low

  * add some basic help to 'lnmount'

 -- Martin Povolny <martin.povolny@solnet.cz>  Fri, 19 Jan 2007 12:55:35 +0100

lnbackup-ng (1.25.6~2006Q3.6) 2006Q3; urgency=low

  * minimalize the number of 'stat' calls in main backup loop
  * fix: add error handling around 'stat' call in main backup loop

 -- Martin Povolny <martin.povolny@solnet.cz>  Fri, 12 Jan 2007 14:31:46 +0100

lnbackup-ng (1.25.6~2006Q3.5) 2006Q3; urgency=low

  * handle error raised by File.stat in copy_preserve

 -- Martin Povolny <martin.povolny@solnet.cz>  Wed,  3 Jan 2007 15:34:29 +0100

lnbackup-ng (1.25.6~2006Q3.4) 2006Q3; urgency=low

  * handle more error states in File.syscopy2

 -- Martin Povolny <martin.povolny@solnet.cz>  Fri, 22 Dec 2006 10:28:08 +0100

lnbackup-ng (1.25.6~2006Q3.3) 2006Q3; urgency=low

  * fix typo in handling of backup status
  * handle situation, when lnbackup cannot create lock/pid file

 -- Martin Povolny <martin.povolny@solnet.cz>  Mon,  9 Oct 2006 14:09:55 +0200

lnbackup-ng (1.25.6~2006Q3.2) 2006Q3; urgency=low

  * added method backup_partitions, which returns an array of partitions
     for backup
  * added method backup_partition?
  * modified method find_dev_by - 1st argument can be an array
  * added symlink /usr/lib/ruby/1.8/lnbackup.rb that point to
    /usr/sbin/lnbackup
  * using tune2fs instead of dumpe2fs

 -- Peter Vesely <Peter.Vesely@solnet.cz>  Mon, 18 Sep 2006 15:25:48 +0200

lnbackup-ng (1.25.6~2006Q3.1) 2006Q3; urgency=low

  * Debian package defaults to Sarge.
  * Change: change behaviour when getting ACL: if 2 files look the same and ACL can't
    be read then the files are considered the same.
  * Change: print statistics even when backup failed.

 -- Martin Povolny <martin.povolny@solnet.cz>  Mon,  7 Aug 2006 16:57:40 +0200

lnbackup-ng (1.25.5) unstable; urgency=low

  * Fix: don't delete last backup, when making space.
  * Change: exclude 'lost+found/*' under '/' from backup in default config.

 -- Martin Povolny <martin.povolny@solnet.cz>  Tue, 20 Jun 2006 14:46:43 +0200

lnbackup-ng (1.25.4) unstable; urgency=low

  * Fix: --mirror-only now works.
  * Fix: small fix in /etc/fstab generation, which remains insufficient.

 -- Martin Povolny <martin.povolny@solnet.cz>  Thu,  1 Jun 2006 15:13:47 +0200

lnbackup-ng (1.25.3) unstable; urgency=low

  * Fix: Tolerate 1s difference in mtime (consider 2 mtimes with 1s
      difference the same).

    This solves problem when backuping files from windows (some files got
    copied even if they where not changed). 

    See http://wiki.tcl.tk/1174 :
    
         Windows (all?) have 2-second granularity on disk, so a file dated
         01:23:45 will end up being dated 01:23:44 instead. A compare on file
         mtime may fail, depending on context. 

 -- Martin Povolny <martin.povolny@solnet.cz>  Tue, 23 May 2006 11:02:57 +0200

lnbackup-ng (1.25.2) unstable; urgency=low

  * Fix: On error the return value from dumpe2fs is now {} instead of nil
         this fixes behaviour when there is a device that doesn't respond to
         dumpe2fs matched by the device mask.

 -- Martin Povolny <martin.povolny@solnet.cz>  Mon, 15 May 2006 13:46:45 +0200

lnbackup-ng (1.25.1) unstable; urgency=low

  * Fix: print backup name of failed backup in --nagios-all.

 -- Martin Povolny <martin.povolny@solnet.cz>  Thu, 27 Apr 2006 17:10:52 +0200

lnbackup-ng (1.25) unstable; urgency=low

  * Fix: correctly propagate status code in case of post command failure
  * Fix: correctly handle out-of-space exception when creating backup
    directory (the first one)
  * Fix: option --rw in lnmount (taken from 1.24.1).
  * Fix: check if LILO in installed before calling it. (Now warning is
      generated where previously error code was returned.)

  * Feature: find backup devices by filesystem LABELs or UUIDs
  * Feature: backup ACLs

  * Feature: lnbackup now writes binary status file, but still reads the
    text-based. This is to ease the upgrade process and text status files will
    be dropped in future release.
  * Feature: oldest_backup(file) looks into more, then just the last backup.
    This results in saving HDD space when backup is run after previous incomplete backup.

 -- Martin Povolny <martin.povolny@solnet.cz>  Mon, 13 Mar 2006 13:34:12 +0100

lnbackup-ng (1.24) unstable; urgency=low

  * multiple backup devices in one config directory
  * check all (given in config) backups

 -- Martin Povolny <martin.povolny@solnet.cz>  Wed,  4 Jan 2006 14:30:59 +0100

lnbackup-ng (1.23) unstable; urgency=low

  * lnstat, lnmout, lnumount: propagate args to lnbackup

 -- Martin Povolny <martin.povolny@solnet.cz>  Tue, 22 Nov 2005 15:44:00 +0100

lnbackup-ng (1.22) unstable; urgency=low

  * Fixed --no-delete.

 -- Martin Povolny <martin.povolny@solnet.cz>  Thu,  3 Nov 2005 10:31:22 +0100

lnbackup-ng (1.21) unstable; urgency=low

  * Revert cifs --> smbfs for PCs backup (cifs doesn't handle) NetBIOS names.
  * Fix typo in PCs backup exception handling.

 -- Martin Povolny <martin.povolny@solnet.cz>  Fri, 30 Sep 2005 08:57:37 +0200

lnbackup-ng (1.20) unstable; urgency=low

  * Memory optimalization: radically reduce memory consumption during backup.
  * New switch '--delay=FLOAT' to specify delay in seconds between processing
        fs objects.
  * Rewritten logging to use lazy evaluation.
  * Mounting/unmounting redone (now can remount a ro-mounted partition that
        can't be unmounted.
  * Routine to detect running lnbackup -- PID is stored in
        #{backup_mountpoint}/LNBACKUP_RUNNING.
  * More fixes for excludes (as in 1.19.1) now it should really work.
  * Handle Errno::ETXTBSY in copy_code.
  * Exception handling in do_copy in exception handling ;-) .
  * Added --no-delete command-line option: when given, lnbackup does not free
        space, when out of space, lnbackup exits with error.


 -- Martin Povolny <martin.povolny@solnet.cz>  Wed, 13 Jul 2005 10:17:37 +0200

lnbackup-ng (1.19) stable; urgency=low

  * BUGFIXES:   removing of empty month and year directories
                really fix excludes evaluation
  * changed implicit exclude pattern for squid cache (new squid handles
      missing cache dir)

 -- Martin Povolny <martin.povolny@solnet.cz>  Thu,  7 Jul 2005 14:10:31 +0200

lnbackup-ng (1.18) stable; urgency=high

  * critical bugfix: due to wrong evaluation of exclude regexps, some files
    may have been skipped from backup!

 -- Martin Povolny <martin.povolny@solnet.cz>  Sat, 18 Jun 2005 18:21:31 +0200

lnbackup-ng (1.17) unstable; urgency=low

  * :skip_lilo option in backup config allows creating mirror without 
     generating lilo.conf and running lilo

 -- Martin Povolny <martin.povolny@solnet.cz>  Wed, 15 Jun 2005 18:49:38 +0200

lnbackup-ng (1.16) unstable; urgency=low

  * Bugfix: tune2fs on encrypted partitions.
  * Bugfix: post_command after 'backup already exists'.
  * added log message level INFO when remove_oldest finishes

 -- Martin Povolny <martin.povolny@solnet.cz>  Thu, 12 May 2005 08:38:59 +0200

lnbackup-ng (1.15) unstable; urgency=low

  * Bugfix: hourly backup.
  * Bugfix: pc_backup.

 -- Martin Povolny <martin@solnet.cz>  Thu,  7 Apr 2005 13:09:32 +0200

lnbackup-ng (1.14) unstable; urgency=low

  * Now depends on ruby1.8. 
  * Bugfixes.
  * pc_backup rewritten in ruby.

 -- Martin Povolny <martin@solnet.cz>  Wed, 16 Mar 2005 15:04:07 +0100

lnbackup-ng (1.13) unstable; urgency=low

  * Added script pc_backup for backup of PC stations over SMB.

 -- Martin Povolny <martin@solnet.cz>  Fri, 28 Jan 2005 10:06:58 +0100

lnbackup-ng (1.12) unstable; urgency=low

  * Added Czech manual.

 -- Martin Povolny <martin@solnet.cz>  Fri, 21 Jan 2005 17:08:10 +0100

lnbackup-ng (1.11) unstable; urgency=low

  * lnmout, lnumout and lnstat now log to STDOUT
  * fixed default excludes in /etc/lnbackup.d/01localhost

 -- Martin Povolny <martin@solnet.cz>  Tue, 18 Jan 2005 14:59:14 +0100

lnbackup-ng (1.10) unstable; urgency=low

  * Fix 'lilo' call.
  * Fix 'fsck' call.

 -- Martin Povolny <martin@solnet.cz>  Tue, 18 Jan 2005 14:57:51 +0100

lnbackup-ng (1.9) unstable; urgency=low

  * Better nagios check. Fixes in fsck and mounting code.

 -- Martin Povolny <martin@solnet.cz>  Fri,  7 Jan 2005 15:14:35 +0100

lnbackup-ng (1.8) unstable; urgency=low

  * Better lilo diagnostics.
  * Added command line options to:
        * force destination directory
        * add prefix before source directory
        * run in 'mirror only' mode
  * Some work on hourly backups.
  * 'lnbackup --mount' and 'lnmount' now mount only RO.
  * Bugfix: mirroring was deleting lnbackup lockfile.

 -- Martin Povolny <martin@solnet.cz>  Mon,  6 Dec 2004 18:56:05 +0100

lnbackup-ng (1.7) unstable; urgency=low

  * Fixed post_command (pre_command was called instead of post_command).

 -- Martin Povolny <martin@solnet.cz>  Tue,  2 Nov 2004 08:56:22 +0100

lnbackup-ng (1.6) unstable; urgency=low

  * Added missing locking of backup partition when creating bootable mirror.

 -- Martin Povolny <martin@solnet.cz>  Thu, 14 Oct 2004 10:49:57 +0200

lnbackup-ng (1.5) unstable; urgency=low

  * Added global and per-backup options :files_reserved and :blocks_reserved.
  * Added batches: lnmount, lnumount and lnstat.
  * Fixed mount and unmount behaviour when there's no backup partition.
  * Added logging to FreeSpaceCalc.

 -- Martin Povolny <martin@solnet.cz>  Wed, 22 Sep 2004 16:29:12 +0200

lnbackup-ng (1.4) unstable; urgency=low

  * Fixed typo in copy_preserve's error handling.
  * nagios_check now returns error codes <= 2

 -- Martin Povolny <martin@solnet.cz>  Wed,  8 Sep 2004 10:44:46 +0200

lnbackup-ng (1.3) unstable; urgency=low

  * Added some more logging. 
  * Added path to 'fdisk' (mirroring didn't work from cron).

 -- Martin Povolny <martin@solnet.cz>  Fri,  3 Sep 2004 10:54:55 +0200

lnbackup-ng (1.2) unstable; urgency=low

  * Cope with unwritable logfile.

 -- Martin Povolny <martin@solnet.cz>  Thu, 26 Aug 2004 15:25:37 +0200

lnbackup-ng (1.1) unstable; urgency=low

  * Support for external {pre|post}-backup commands. This comes in handy when
    backuping samba shares.

 -- Martin Povolny <martin@solnet.cz>  Thu, 12 Aug 2004 10:44:42 +0200

lnbackup-ng (1.0) unstable; urgency=low

  * Initial Release.

 -- Martin Povolny <Martin.Povolny@solnet.cz>  Tue, 22 Jun 2004 10:57:51 +0200

Local variables:
mode: debian-changelog
End:
